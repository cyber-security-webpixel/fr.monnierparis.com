(function(){var ga4StoreId,ga4GlobalId,adsStoreId,adsGlobalId;document.location.hostname==="monnierfreres.myshopify.com"?ga4StoreId="G-3WY90CW399":(ga4GlobalId="G-J69LVSQNSE",adsGlobalId="AW-998971675",document.location.hostname==="www.monnierparis.com"||document.location.hostname==="cn.monnierparis.com"?(ga4StoreId="G-E2W1FRXQXP",adsStoreId="AW-940619351"):/^[\w-]+\.monnierparis\.com$/.test(document.location.hostname)&&(ga4StoreId="G-VY1EG4X2ES",adsStoreId="AW-983041032"));var script=document.createElement("script");script.type="text/javascript",script.async=!0,script.src="https://www.googletagmanager.com/gtag/js?id="+ga4StoreId;var otherScript=document.getElementsByTagName("script")[0];otherScript.parentNode.insertBefore(script,otherScript),window.dataLayer=window.dataLayer||[];function gtag(){window.dataLayer.push(arguments)}window.gtag=gtag,gtag("consent","default",{ad_storage:"denied",ad_user_data:"denied",ad_personalization:"denied",analytics_storage:"denied",wait_for_update:3e3}),gtag("js",new Date),gtag("config",ga4StoreId,{groups:"ga4"}),ga4GlobalId&&gtag("config",ga4GlobalId,{groups:"ga4"}),adsStoreId&&gtag("config",adsStoreId,{groups:"ga4"}),adsGlobalId&&gtag("config",adsGlobalId,{groups:"ga4"})})(),window.mnpTracking=function(){function setCJCookie(){try{if(document.location.search.includes("CJEVENT")){var search_params=new URLSearchParams(document.location.search),cj_event_value=search_params.get("CJEVENT"),expires_date=new Date;expires_date.setTime(expires_date.getTime()+30*24*60*60*1e3);var expires="; expires="+expires_date.toGMTString();document.cookie="cjevent="+cj_event_value+expires+"; path=/"}}catch(error){console.error(error)}}function removeCJCookie(){try{document.cookie="cjevent=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/"}catch(error){console.error(error)}}function deactivateCJTracking(){window.removeEventListener("load",setCJCookie),removeCJCookie()}function activateCJTracking(){window.removeEventListener("load",setCJCookie),window.addEventListener("load",setCJCookie)}function analyticsConsent(granted){granted?window.gtag&&window.gtag("consent","update",{analytics_storage:"granted"}):window.gtag&&window.gtag("consent","update",{analytics_storage:"denied"})}function marketingConsent(granted){granted?(window.gtag&&window.gtag("consent","update",{ad_storage:"granted",ad_user_data:"granted",ad_personalization:"granted"}),activateCJTracking()):(window.gtag&&window.gtag("consent","update",{ad_storage:"denied",ad_user_data:"denied",ad_personalization:"denied"}),deactivateCJTracking())}function getDetailsFromItems(items){var itemsForGa4=[],contents=[],quantity=0,value=0;return items&&items.forEach(function(item){itemsForGa4.push({item_id:item.id,item_name:item.name,affiliation:item.affiliation,currency:item.currency,item_brand:item.brand,item_category:item.category,item_variant:item.variant,price:item.price,discount:item.discount,quantity:item.quantity}),contents.push({id:item.id,quantity:item.quantity}),quantity+=item.quantity,value+=((item.price||0)-(item.discount||0))*(item.quantity||0)}),{itemsForGa4:itemsForGa4,contents:contents,quantity:quantity,value:value}}function viewItem(item){var details=getDetailsFromItems([item]);window.gtag&&window.gtag("event","view_item",{send_to:"ga4",currency:item.currency,value:details.value,items:details.itemsForGa4}),window.fbq&&window.fbq("track","ViewContent",{content_type:"product",content_ids:[item.id],content_name:item.name,content_category:item.category,currency:item.currency,value:details.value}),window.ttq&&window.ttq.track("ViewContent",{content_type:"product",content_id:item.id,content_name:item.name,description:item.variant,content_category:item.category,quantity:item.quantity,price:item.price,currency:item.currency,value:details.value})}function viewItemsList(itemsList){window.gtag&&window.gtag("event","view_item_list",{send_to:"ga4",item_list_id:itemsList.id,item_list_name:itemsList.name,items:itemsList.items.map(function(item){return{item_id:item.id,item_name:item.name,item_brand:item.brand}})}),window.fbq&&window.fbq("track","ViewContent",{content_type:"product_group",content_ids:[itemsList.id],content_name:itemsList.name,content_category:itemsList.name}),window.ttq&&window.ttq.track("ViewContent",{content_type:"product_group",content_id:itemsList.id,content_name:itemsList.name,content_category:itemsList.name})}function viewCart(cart){var details=getDetailsFromItems(cart.items);window.gtag&&window.gtag("event","view_cart",{send_to:"ga4",currency:cart.currency,value:cart.value,items:details.itemsForGa4})}function addToCart(item){var details=getDetailsFromItems([item]);window.gtag&&window.gtag("event","add_to_cart",{send_to:"ga4",currency:item.currency,value:details.value,items:details.itemsForGa4}),window.fbq&&window.fbq("track","AddToCart",{content_type:"product",contents:details.contents}),window.ttq&&window.ttq.track("AddToCart",{content_type:"product",quantity:details.quantity,contents:details.contents})}function removeFromCart(item){var details=getDetailsFromItems([item]);window.gtag&&window.gtag("event","remove_from_cart",{send_to:"ga4",currency:item.currency,value:details.value,items:details.itemsForGa4})}function beginCheckout(checkout){var details=getDetailsFromItems(checkout.items);window.gtag&&window.gtag("event","begin_checkout",{send_to:"ga4",currency:checkout.currency,value:checkout.value,items:details.itemsForGa4}),window.fbq&&window.fbq("track","InitiateCheckout",{currency:checkout.currency,value:checkout.value,num_items:details.quantity,content_type:"product",contents:details.contents}),window.ttq&&window.ttq.track("InitiateCheckout",{currency:checkout.currency,value:checkout.value,quantity:details.quantity,content_type:"product",contents:details.contents})}function addShippingInfo(checkout){var details=getDetailsFromItems(checkout.items);window.gtag&&window.gtag("event","add_shipping_info",{send_to:"ga4",currency:checkout.currency,value:checkout.value,shipping_tier:checkout.shippingMethod,items:details.itemsForGa4})}function addPaymentInfo(checkout){var details=getDetailsFromItems(checkout.items);window.gtag&&window.gtag("event","add_payment_info",{send_to:"ga4",currency:checkout.currency,value:checkout.value,payment_type:checkout.paymentMethod,items:details.itemsForGa4}),window.fbq&&window.fbq("track","AddPaymentInfo",{currency:checkout.currency,value:checkout.value,num_items:details.quantity,content_type:"product",contents:details.contents}),window.ttq&&window.ttq.track("AddPaymentInfo",{currency:checkout.currency,value:checkout.value,quantity:details.quantity,content_type:"product",contents:details.contents})}function purchase(order,customer){var details=getDetailsFromItems(order.items);window.gtag&&(customer&&customer.email&&window.gtag("set","user_data",{email:customer.email}),window.gtag("event","purchase",{send_to:"ga4",transaction_id:order.id,affiliation:order.affiliation,currency:order.currency,value:order.value,shipping:order.shipping,tax:order.tax,items:details.itemsForGa4})),window.fbq&&window.fbq("track","Purchase",{content_name:order.id,currency:order.currency,value:order.value,num_items:details.quantity,content_type:"product",contents:details.contents}),window.ttq&&window.ttq.track("CompletePayment",{description:order.id,currency:order.currency,value:order.value,quantity:details.quantity,content_type:"product",contents:details.contents}),window.uetq&&window.uetq.push("event","purchase",{revenue_value:order.value,currency:order.currency})}function login(){window.gtag&&window.gtag("event","login",{send_to:"ga4",method:"email"})}function register(){window.gtag&&window.gtag("event","sign_up",{send_to:"ga4",method:"email"}),window.fbq&&window.fbq("track","CompleteRegistration",{content_name:"sign_up",status:!0}),window.ttq&&window.ttq.track("CompleteRegistration")}function view404(details){window.gtag&&window.gtag("event","view_404",{send_to:"ga4",pathname:details.pathname})}return{analyticsConsent:analyticsConsent,marketingConsent:marketingConsent,viewItem:viewItem,viewItemsList:viewItemsList,viewCart:viewCart,addToCart:addToCart,removeFromCart:removeFromCart,beginCheckout:beginCheckout,addShippingInfo:addShippingInfo,addPaymentInfo:addPaymentInfo,purchase:purchase,login:login,register:register,view404:view404}}();
//# sourceMappingURL=/cdn/shop/t/12/assets/tracking.js.map?v=92572576165974516391715067022
